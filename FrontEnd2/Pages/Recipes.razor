@page "/recipe"
@using BBCollection.BBObjects;
@using Newtonsoft.Json;

@inject HttpClient  Http

    <span class="text-muted ml-5">
        Showing @recipeData.Count out of 1000
    </span>

<input placeholder="search" @bind="searchTerm" />
<button class="btn btn-success" @onclick="(() => SearchIt())">Søg For Ronis Helbred</button>

<ul>
    @foreach (var recipe in recipeData)
    {
        <li> <button class="btn-group-toggle"> @recipe._Name </button></li>
    }
</ul>


@code{
    string printRecipe = "hej hej";
    string searchTerm;
    List<Recipe> recipeData = new List<Recipe>();


    protected async Task SearchIt()
    {

        printRecipe = await Http.GetStringAsync("https://localhost:44325/api/recipe?recipeTitle=" + searchTerm);

        recipeData = JsonConvert.DeserializeObject<List<Recipe>>(printRecipe);

    }
}